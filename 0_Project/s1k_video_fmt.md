
## < 영상 포멧 > 

### 0. 목차
1. 영상의 구성
2. 영상 패킷의 구성
3. 예제

### 1. 영상의 구성
- 영상 : 수많은 사진의 연속적으로 시각화 하여 보여주는 것
- 사진 = 패킷 1개.

<br>

### 2. 영상 패킷의 구성
- 영상 패킷 = Packet ID + Main Type + Sub Type + Header + Data

|      | `Packet ID`| `Main Type` | `Sub Type` | `Header` | `Data`           | 
|-     |-           |-            |-           |-         |-                 |
| Size | 5 Bytes    | 1 Bytes     | 2 Bytes    | 24 Bytes | 30624 Bytes(max) |

<br>

### 3. 예제

아래 코드는 수신한 이미지를 16진수 코드로 출력한 것이다.
```     
        01 02 03 04 05 06 07 08 09 10 11 12 13 14 15 16 

0000    FF FF 01 00 FF 00 00 00 8C 3A 00 00 2F 44 00 00 
0010    01 00 00 00 03 00 80 02 E0 01 01 00 00 00 01 00
```

#### - 예제 분석 -
- Packet ID 
    - 16진수 : FF FF 01 00 FF
        - FF FF : 패킷의 시작을 알려준다. 
        - 01 : 패킷을 송신하는 대상을 의미한다. (01 = 카메라)
        - 00 : 패킷을 수신하는 대상을 의미한다. (00 = PC)
        - FF : Handshake. 제대로 송수신이 되었는지를 의미한다. (FF를 보내고 01이 돌아오면 정상적으로 송신이 되었다는 뜻이다.)

- Main Type 
    - 16진수 : 00 
        - 00 : 메인 타입은 0이라는 뜻이다.
- Sub Type  
    - 16진수 : 00 00
        - 00 00 : 서브 타입은 0이라는 뜻이다.
- Header 
    - 16진수 : 8C 3A 00 00 2F 44 00 00 01 00 00 00 03 00 80 02 E0 01 01 00 00 00 01 00 ~ (24 byts까지 head에 해당)
        - 8C 3A 00 00 : 시스템 시간(ms)
        - 2F 44 00 00 : 영상의 크기 ( 0x0000442F = 17455 Bytes = 17Kbytes)
        - 01 00 00 00 : 영상 갯수
        - 03 00 : : 영상 포멧
        - 80 02 : 영상 가로 ( 640 = 0x0280)
        - E0 01 : 영상 세로 ( 480 = 0x01E0)
- Data : 이후에 오는 것들은 실질적인 사진 DATA 